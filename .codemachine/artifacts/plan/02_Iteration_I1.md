<!-- anchor: iteration-1-plan -->

### Iteration 1: Setup & Core Models

- **Iteration ID:** `I1`
- **Goal:** Establish project foundation with monorepo setup, database schema, and key artifacts for core entities.
- **Prerequisites:** None
- **Tasks:**
  - **Task 1.1:**
    - **Task ID:** `I1.T1`
    - **Description:** Initialize Turbo monorepo structure with apps/prepchef, libs/ui, libs/shared, libs/supabase, and basic configurations.
    - **Agent Type Hint:** SetupAgent
    - **Inputs:** Project specifications
    - **Input Files**: []
    - **Target Files:** package.json, turbo.json, apps/prepchef/package.json, libs/ui/package.json, libs/shared/package.json, libs/supabase/package.json
    - **Deliverables:** Configured monorepo with pnpm workspaces and initial Next.js app.
    - **Acceptance Criteria:** `turbo run build` succeeds without errors.
    - **Dependencies:** []
    - **Parallelizable:** No
  - **Task 1.2:**
    - **Task ID:** `I1.T2`
    - **Description:** Generate Component Diagram (PlantUML) visualizing apps, libs, and Supabase interactions.
    - **Agent Type Hint:** DiagrammingAgent
    - **Inputs:** Core Architecture section
    - **Input Files**: []
    - **Target Files:** docs/diagrams/component_overview.puml
    - **Deliverables:** PlantUML diagram file.
    - **Acceptance Criteria:** Diagram renders without syntax errors and matches Section 2.
    - **Dependencies:** []
    - **Parallelizable:** Yes
  - **Task 1.3:**
    - **Task ID:** `I1.T3`
    - **Description:** Design ERD (Mermaid) for companies, users, events, tasks, recipes entities.
    - **Agent Type Hint:** DatabaseAgent
    - **Inputs:** Data Model Overview
    - **Input Files**: []
    - **Target Files:** docs/diagrams/erd.mmd
    - **Deliverables:** Mermaid ERD file.
    - **Acceptance Criteria:** ERD shows relationships and company_id scoping.
    - **Dependencies:** []
    - **Parallelizable:** Yes
  - **Task 1.4:**
    - **Task ID:** `I1.T4`
    - **Description:** Create JSON Schema for recipe and method payloads.
    - **Agent Type Hint:** DocumentationAgent
    - **Inputs:** Data Model Overview
    - **Input Files**: []
    - **Target Files:** api/schemas/recipe.schema.json, api/schemas/method.schema.json
    - **Deliverables:** JSON Schema files for validation.
    - **Acceptance Criteria:** Schemas validate sample payloads.
    - **Dependencies:** []
    - **Parallelizable:** Yes
  - **Task 1.5:**
    - **Task ID:** `I1.T5`
    - **Description:** Implement Supabase migrations for core tables with RLS.
    - **Agent Type Hint:** DatabaseAgent
    - **Inputs:** ERD from I1.T3
    - **Input Files:** docs/diagrams/erd.mmd
    - **Target Files:** supabase/migrations/20251211000000_core_schema.sql
    - **Deliverables:** SQL migration file.
    - **Acceptance Criteria:** Migration applies and enforces RLS.
    - **Dependencies:** [I1.T3]
    - **Parallelizable:** No
  - **Task 1.6:**
    - **Task ID:** `I1.T6`
    - **Description:** Set up libs/supabase with typed client and basic queries.
    - **Agent Type Hint:** BackendAgent
    - **Inputs:** Migration from I1.T5
    - **Input Files:** supabase/migrations/20251211000000_core_schema.sql
    - **Target Files:** libs/supabase/src/client.ts, libs/supabase/src/types.ts
    - **Deliverables:** Typed Supabase client.
    - **Acceptance Criteria:** Client connects and types match schema.
    - **Dependencies:** [I1.T5]
    - **Parallelizable:** No
  - **Task 1.7:**
    - **Task ID:** `I1.T7`
    - **Description:** Implement basic task list UI in apps/prepchef.
    - **Agent Type Hint:** FrontendAgent
    - **Inputs:** UI requirements
    - **Input Files:** libs/ui/src/components/
    - **Target Files:** apps/prepchef/app/tasks/page.tsx
    - **Deliverables:** Basic task dashboard.
    - **Acceptance Criteria:** UI renders tasks from API.
    - **Dependencies:** [I1.T1, I1.T6]
    - **Parallelizable:** Yes
